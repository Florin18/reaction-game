<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="color-scheme" content="dark" />
    <title>Reaction Game â€” Portfolio Grade</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Space+Grotesk:wght@600;700&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <div class="howToPlayOverlay" id="howToPlayOverlay">
      <div class="howToPlayModal">
        <h2>How to Play</h2>
        <p>Test your reaction game in this exciting challenge!</p>
        <ul>
          <li>Click the green panel when it lights up</li>
          <li>React as fast as you can</li>
          <li>Don't click before it turns green (false start)</li>
          <li>Your time is measured in milliseconds</li>
        </ul>
        <button class="howToPlayClose" id="closeHowToPlay">Got it!</button>
      </div>
    </div>

    <div class="ui">
      <div class="wrap">
        <header class="header">
          <div class="brand">
            <h1>Reaction Game</h1>
          </div>
          <div class="hint">Keyboard: <strong>Space</strong> / <strong>Enter</strong></div>
        </header>

        <section class="card grid" aria-label="Reaction Game">
          <div class="game">
            <div class="statePillRow">
              <div class="pill" id="statePill" data-variant="neutral">
                <span class="dot" aria-hidden="true"></span>
                <span>State: <strong id="stateLabel">idle</strong></span>
              </div>

              <div class="actions">
                <button class="btn" id="btnResetSession" type="button" title="Reset session stats">Reset session</button>
                <button class="btn danger" id="btnClearBest" type="button" title="Clear best time from storage">Clear best</button>
              </div>
            </div>

            <div class="arena" id="arena" data-state="idle">
              <!-- 3D shape is now INSIDE the clickable box -->
              <canvas class="arenaCanvas" id="arena3d" aria-hidden="true"></canvas>
              <div class="arenaCanvasVeil" aria-hidden="true"></div>

              <button
                class="arenaButton"
                id="arenaButton"
                type="button"
                data-state="idle"
                aria-describedby="helpText"
              >
                <div class="arenaInner">
                  <h2 class="headline" id="headline">Click to start</h2>
                  <p class="sub" id="helpText">When you start, wait for green. Click (or press Space/Enter) as fast as you can.</p>
                  <p class="big" id="big" aria-label="Reaction time readout">â€”</p>
                </div>
              </button>
            </div>

            <div class="metaRow" aria-label="Summary statistics">
              <div class="statCard">
                <div class="k">Best (persisted)</div>
                <div class="v" id="bestValue">â€”</div>
              </div>
              <div class="statCard">
                <div class="k">Average (session)</div>
                <div class="v" id="avgValue">â€”</div>
              </div>
            </div>

            <div class="sr-only" aria-live="polite" aria-atomic="true" id="live"></div>
          </div>

          <aside class="sidebar" aria-label="Attempts and details">
            <h2>Attempts</h2>

            <div class="attempts">
              <div class="attemptsHeader">
                <div class="muted">Last 10 (most recent first)</div>
                <div class="muted" id="sessionCount">Session: 0</div>
              </div>

              <div class="attemptsGrid" id="attemptsGrid" aria-label="Last 10 attempts grid"></div>
            </div>

            <ul class="list" aria-label="Current result details">
              <li>
                <span class="label">Current</span>
                <div>
                  <span class="value" id="currentValue">â€”</span>
                  <span class="categoryBadge" id="currentCategory"></span>
                </div>
              </li>
              <li>
                <span class="label">Last</span>
                <div>
                  <span class="value" id="lastValue">â€”</span>
                  <span class="categoryBadge" id="lastCategory"></span>
                </div>
              </li>
            </ul>

            <div class="categories">
              <h3>Reaction Time Scale</h3>
              <div class="categoryItem">
                <div class="categoryName">Amazing</div>
                <div class="categoryRange">&lt; 150 ms</div>
              </div>
              <div class="categoryItem">
                <div class="categoryName">Very Good</div>
                <div class="categoryRange">150 - 200 ms</div>
              </div>
              <div class="categoryItem">
                <div class="categoryName">Good</div>
                <div class="categoryRange">200 - 250 ms</div>
              </div>
              <div class="categoryItem">
                <div class="categoryName">Average</div>
                <div class="categoryRange">250 - 350 ms</div>
              </div>
              <div class="categoryItem">
                <div class="categoryName">Below Average</div>
                <div class="categoryRange">&gt; 350 ms</div>
              </div>
            </div>
          </aside>
        </section>
      </div>
    </div>

    <script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
